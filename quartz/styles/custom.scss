@use "./base.scss";

/* quartz/styles/custom.scss */

/* ------------ PALETTES (défaut = dark) ------------ */
:root,
:root[data-theme="dark"],
html.dark,
body.dark {
  /* base */
  --bg: #0b0f19;
  --surface: #12182a; /* cartes/panneaux */
  --text: #e8ecf5;
  --muted: #a5b0c2;
  --border: #1e2742;

  /* primaire (dark) */
  --primary: #3cf054; /* demandé */
  --primary-600: #25c83f;
  --primary-700: #1aa233;

  /* liens */
  --link: var(--primary);
  --link-hover: #97f7a6;
  --visited: #83d996;

  /* code & sélection */
  --code-bg: #0f1526;
  --kbd-bg: #0f1526;
  --selection: rgba(60, 240, 84, 0.25);
}

/* Light mode : couvre plusieurs variantes d’attributs/classes */
:root[data-theme="light"],
html.light,
body.light {
  --bg: #ffffff;
  --surface: #f7fafc;
  --text: #0f172a;
  --muted: #475569;
  --border: #e5e7eb;

  --primary: #fcad44; /* demandé */
  --primary-600: #e2902d;
  --primary-700: #c77a22;

  --link: var(--primary);
  --link-hover: #b45309; /* plus sombre pour accessibilité */
  --visited: #7c2d12;

  --code-bg: #f7f7fa;
  --kbd-bg: #fff7ed;
  --selection: rgba(252, 173, 68, 0.22);
}

/* ------------ BASE ------------ */
body {
  background: var(--bg);
  color: var(--text);
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

/* Unifier TOUS les fonds structurels */
main,
.page,
.page > .content,
.content,
.article-page,
.right-sidebar,
.left-sidebar,
.sidebar,
.header,
.footer {
  background: var(--bg) !important;
}

/* Surfaces (cartes, encarts, blocs markdown) */
.card,
.callout,
.note,
.admonition,
blockquote,
pre,
code,
.tippy-box {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 0.8rem;
}

/* Titres */
h1,
h2,
h3,
h4,
h5,
h6 {
  color: var(--text);
  letter-spacing: -0.01em;
  line-height: 1.2;
}
h1 {
  font-weight: 800;
}

/* Liens (uniformes) */
a {
  color: var(--link);
  text-decoration: none;
  transition:
    color 0.15s ease,
    box-shadow 0.15s ease;
}
a:hover {
  color: var(--link-hover);
  text-decoration: underline;
}
a:visited {
  color: var(--visited);
}

/* Table des matières – garder la même couleur pour tous les états,
   puis survol en primaire */
.toc a,
.toc a:link,
.toc a:visited {
  color: var(--muted);
}
.toc a:hover,
.toc a.is-active,
.toc .active > a {
  color: var(--link);
}

/* Sidebar / nav */
.sidebar {
  background: var(--surface);
  border-right: 1px solid var(--border);
}
.sidebar a {
  color: var(--text);
}
.sidebar a:hover {
  color: var(--link);
}

/* Breadcrumbs, meta */
.breadcrumbs a {
  color: var(--muted);
}
.breadcrumbs a:hover {
  color: var(--link);
}

/* Boutons, tags, pills, badges */
.button,
.pill,
.tag,
.badge {
  background: var(--primary);
  color: #0b1021;
  border: 1px solid color-mix(in oklab, var(--primary), black 15%);
  border-radius: 0.6rem;
}
.button:hover,
.pill:hover,
.tag:hover,
.badge:hover {
  background: var(--primary-600);
}

/* Code */
pre {
  padding: 1rem;
  overflow: auto;
}
code {
  padding: 0.15rem 0.35rem;
}

/* <kbd> */
kbd {
  background: var(--kbd-bg);
  border: 1px solid var(--border);
  border-radius: 0.4rem;
  padding: 0.1rem 0.35rem;
  box-shadow: inset 0 -1px 0 color-mix(in oklab, var(--border), black 10%);
}

/* Tables */
table {
  border-collapse: collapse;
  width: 100%;
}
th,
td {
  border: 1px solid var(--border);
  padding: 0.5rem 0.75rem;
}
thead th {
  background: color-mix(in oklab, var(--surface), white 6%);
}

/* Sélection de texte */
::selection {
  background: var(--selection);
}

/* HR */
hr {
  border: none;
  border-top: 1px solid var(--border);
  margin: 2rem 0;
}

/* Inputs (search, etc.) */
input,
select,
textarea {
  background: var(--surface);
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: 0.5rem;
}
